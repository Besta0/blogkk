# 📖 管理员使用手册

动态作品集网站管理后台使用指南。

## 目录

- [快速开始](#快速开始)
- [登录管理后台](#登录管理后台)
- [仪表板](#仪表板)
- [个人资料管理](#个人资料管理)
- [项目管理](#项目管理)
- [博客管理](#博客管理)
- [文件管理](#文件管理)
- [数据分析](#数据分析)
- [常见问题](#常见问题)

---

## 快速开始

### 访问管理后台

管理后台地址: `http://your-domain.com/admin`

### 首次登录

1. 确保已运行管理员初始化脚本:
   ```bash
   cd backend
   npm run init-admin
   ```

2. 使用环境变量中配置的管理员账户登录:
   - 邮箱: `ADMIN_EMAIL` 环境变量值
   - 密码: `ADMIN_PASSWORD` 环境变量值

### 修改密码

首次登录后，建议立即修改默认密码:

1. 如果忘记密码，可以使用密码重置功能
2. 点击登录页面的"忘记密码"链接
3. 输入管理员邮箱，系统会发送重置链接

---

## 登录管理后台

### 登录步骤

1. 访问管理后台 URL
2. 输入管理员邮箱和密码
3. 点击"登录"按钮

### 登录界面

![登录界面](https://via.placeholder.com/600x400?text=Login+Page)

### 会话管理

- 访问令牌有效期: 1 小时
- 刷新令牌有效期: 7 天
- 系统会自动刷新令牌，无需手动操作
- 长时间不活动后需要重新登录

### 登出

点击右上角的用户头像，选择"登出"即可安全退出。

---

## 仪表板

仪表板是管理后台的首页，提供网站运营数据概览。

### 统计卡片

| 指标 | 描述 |
|------|------|
| 总访问量 | 网站累计页面访问次数 |
| 独立访客 | 不重复的访问者数量 |
| 项目点赞 | 所有项目获得的点赞总数 |
| 最近24小时 | 过去24小时的访问量 |

### 快捷操作

- **添加新项目**: 快速跳转到项目创建页面
- **撰写博客**: 快速跳转到博客编辑器

### 热门页面

显示访问量最高的页面排行，帮助了解用户最感兴趣的内容。

---

## 个人资料管理

管理网站首页显示的个人信息。

### 访问路径

侧边栏 → 个人资料

### 基本信息

| 字段 | 描述 | 示例 |
|------|------|------|
| 姓名 | 显示在首页的名字 | 张三 |
| 职位/头衔 | 职业描述 | 全栈开发工程师 |
| 头像URL | 头像图片地址 | https://... |
| 个人简介 | 自我介绍文字 | 热爱编程的开发者... |

### 编辑步骤

1. 点击"基本信息"标签
2. 修改需要更新的字段
3. 点击右上角"保存更改"按钮

### 技能管理

管理技能标签列表:

1. 点击"技能"标签
2. 在输入框中输入技能名称
3. 点击"+"按钮或按回车添加
4. 点击技能标签上的"×"删除

**建议**: 添加 5-15 个核心技能，按重要性排序。

### 工作经历

添加和管理工作经历:

1. 点击"工作经历"标签
2. 点击"添加经历"按钮
3. 填写公司、职位、时间、描述
4. 勾选"目前在职"表示当前工作
5. 点击垃圾桶图标删除经历

### 社交链接

配置社交媒体链接:

| 平台 | 格式示例 |
|------|----------|
| GitHub | https://github.com/username |
| LinkedIn | https://linkedin.com/in/username |
| Twitter | https://twitter.com/username |
| 邮箱 | your@email.com |
| 个人网站 | https://yourwebsite.com |

---

## 项目管理

管理作品集中展示的项目。

### 访问路径

侧边栏 → 项目管理

### 项目列表

- 支持搜索项目名称和技术
- 显示项目缩略图、统计数据
- 可以编辑、删除项目

### 添加新项目

1. 点击"添加项目"按钮
2. 填写项目信息:

| 字段 | 必填 | 描述 |
|------|------|------|
| 项目标题 | ✓ | 项目名称 |
| 项目描述 | ✓ | 详细描述 |
| 技术栈 | - | 使用的技术 |
| 项目图片 | - | 展示图片URL |
| GitHub URL | - | 源码地址 |
| 演示链接 | - | 在线演示地址 |
| 精选项目 | - | 是否在首页突出显示 |

3. 点击"创建项目"保存

### 编辑项目

1. 在项目卡片上点击"编辑"按钮
2. 修改项目信息
3. 点击"保存更改"

### 删除项目

1. 点击项目卡片上的"删除"按钮
2. 在确认对话框中点击"删除"

**注意**: 删除操作不可撤销！

### 项目图片

添加项目图片的方法:

1. 先在"文件管理"中上传图片
2. 复制图片URL
3. 在项目编辑中粘贴URL

或直接使用外部图片URL (如 Unsplash)。

### 精选项目

勾选"设为精选项目"后:
- 项目会显示"精选"标签
- 在首页优先展示
- 建议精选 3-6 个最佳项目

---

## 博客管理

管理博客文章。

### 访问路径

侧边栏 → 博客管理

### 文章列表

- 显示所有文章 (包括草稿)
- 支持按标签筛选
- 支持搜索标题和内容

### 创建文章

1. 点击"新建文章"按钮
2. 填写文章信息:

| 字段 | 必填 | 描述 |
|------|------|------|
| 标题 | ✓ | 文章标题 |
| 内容 | ✓ | Markdown 格式内容 |
| 摘要 | - | 文章简介 (列表显示) |
| 标签 | - | 分类标签 |
| 配图 | - | 文章封面图 |
| 发布状态 | - | 草稿/已发布 |

### Markdown 编辑

支持标准 Markdown 语法:

```markdown
# 一级标题
## 二级标题

**粗体** *斜体*

- 列表项1
- 列表项2

1. 有序列表
2. 第二项

[链接文字](https://example.com)

![图片描述](https://example.com/image.jpg)

`行内代码`

代码块:
```javascript
const hello = 'world';
```
```

### 发布文章

1. 编辑完成后，勾选"发布"选项
2. 点击"保存"按钮
3. 文章将立即在前台显示

### 草稿管理

- 未勾选"发布"的文章保存为草稿
- 草稿不会在前台显示
- 可以随时编辑和发布草稿

---

## 文件管理

管理上传的图片和文件。

### 访问路径

侧边栏 → 文件管理

### 上传图片

1. 点击"上传图片"按钮
2. 选择本地图片文件
3. 等待上传完成

**支持格式**: JPEG, PNG, GIF, WebP  
**大小限制**: 单个文件最大 5MB

### 上传类型

| 类型 | 用途 | 优化 |
|------|------|------|
| 通用图片 | 一般用途 | 标准压缩 |
| 头像图片 | 个人头像 | 裁剪为正方形 |
| 项目图片 | 项目展示 | 优化为展示尺寸 |
| 博客配图 | 文章插图 | 适合阅读的尺寸 |

### 复制图片URL

1. 上传成功后，点击图片
2. 点击"复制URL"按钮
3. 在需要的地方粘贴使用

### 删除图片

1. 选择要删除的图片
2. 点击"删除"按钮
3. 确认删除

**注意**: 删除图片后，使用该图片的项目/文章将显示空白。

---

## 数据分析

查看网站访问统计和用户行为数据。

### 访问路径

侧边栏 → 数据分析

### 统计概览

| 指标 | 描述 |
|------|------|
| 页面访问量 | 总访问次数 |
| 独立访客 | 不重复访客数 |
| 平均停留时间 | 用户平均浏览时长 |
| 跳出率 | 只看一页就离开的比例 |

### 时间范围

可选择查看不同时间段的数据:
- 今天
- 最近7天
- 最近30天
- 自定义范围

### 热门内容

- **热门页面**: 访问量最高的页面
- **热门项目**: 浏览/点赞最多的项目
- **热门文章**: 阅读量最高的博客文章

### 流量来源

显示访客来源:
- 直接访问
- 搜索引擎
- 社交媒体
- 外部链接

### 数据导出

1. 点击"导出数据"按钮
2. 选择导出格式 (CSV)
3. 选择时间范围
4. 下载文件

---

## 常见问题

### 登录问题

**Q: 忘记密码怎么办？**

A: 点击登录页面的"忘记密码"，输入管理员邮箱，系统会发送重置链接到邮箱。

**Q: 登录后很快就被登出？**

A: 检查服务器时间是否正确，JWT 令牌依赖准确的时间。

### 内容管理

**Q: 图片上传失败？**

A: 检查以下几点:
1. 文件大小是否超过 5MB
2. 文件格式是否支持 (JPEG/PNG/GIF/WebP)
3. Cloudinary 配置是否正确

**Q: 项目/文章保存失败？**

A: 检查必填字段是否都已填写，网络连接是否正常。

**Q: 如何批量删除项目？**

A: 目前不支持批量删除，需要逐个删除。

### 数据统计

**Q: 统计数据不准确？**

A: 统计数据可能有几分钟的延迟，刷新页面查看最新数据。

**Q: 如何排除自己的访问？**

A: 目前不支持排除特定 IP，建议使用隐身模式测试。

### 性能问题

**Q: 管理后台加载很慢？**

A: 可能原因:
1. 网络连接问题
2. 服务器负载过高
3. 数据量过大

尝试刷新页面或稍后再试。

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl/Cmd + S` | 保存当前编辑 |
| `Ctrl/Cmd + Enter` | 提交表单 |
| `Esc` | 关闭弹窗 |

---

## 安全建议

1. **定期修改密码**: 建议每 90 天更换一次密码
2. **使用强密码**: 至少 12 位，包含大小写字母、数字和特殊字符
3. **不要共享账户**: 每个管理员使用独立账户
4. **及时登出**: 使用完毕后点击登出
5. **注意网络安全**: 避免在公共 WiFi 下登录管理后台

---

## 技术支持

如遇到问题，请:

1. 查看本手册的常见问题部分
2. 查看 [部署指南](./DEPLOYMENT.md) 的故障排除部分
3. 提交 GitHub Issue

---

*最后更新: 2024年1月*
